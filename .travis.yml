language: python
python:
  - "3.5"

# command to install dependencies
before_script:
  - sudo apt-get update
  - sudo apt-get install python3
  - sudo apt-get install python3-pip
  - sudo apt-get install python3-setuptools
  - pip3 install --upgrade setuptools
  - pip3 install matplotlib
  - pip3 install numba
  - pip3 install librosa
  - pip3 install pytest-cov pytest
  - pip3 install codecov
  - pip3 install pytest-xdist
  - sudo apt-get update

# command to run tests
script:
#  -  pytest --verbose -n 4 -q --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_lfcc.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_rplp.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_fbanks_bark.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_lpcc.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_utils_cepstral.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_fbanks_gamma.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_mfcc.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_utils_converters.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_fbanks_lin.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_msrcc.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_utils_filters.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_fbanks_mel.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_ngcc.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_utils_preprocessing.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_bfcc.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_pncc.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_utils_spectral.py --cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_gfcc.py--cov=./ --cov=./ || --force-yes
  - pytest --verbose -n 4 -q tests/test_features_psrcc.py --cov=./ --cov=./ || --force-yes


after_success:
  - codecov
